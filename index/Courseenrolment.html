<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="utf-8"> 
           <title>Course enrolment</title> 
           <link rel="stylesheet" href="styleenrolment.css">
           <link rel="stylesheet" href="kidsScript.css">
           <link rel="preconnect" href="https://fonts.googleapis.com">
           <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
           <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
rel="stylesheet">
</head>
 
<body>
    <header>
        <img src="images/kidsScriptLOGO.png" alt="kidsScriptLOGO" >
        <nav>
          <ul class="nav_links">
          <li><a href="index.html" accesskey="h">Home</a></li>
          <li><a href="Parentdashboard.html" accesskey="p">Parent</a></li>
          <li><a href="Tutor.html" accesskey="t">Tutor</a></li>
          <li><a href="Administratordashboard.html" accesskey="a">Adminstrator</a></li>
          <li><a href="Courses.html" accesskey="c">Courses</a></li>
          </ul>
        </nav>
      </header>
      <!--End of navigation bar -->
  
      <div class='breadcrumb'>
        <a href="index.html">Home</a>
        <span> / </span>
        <a href="Parentdashboard.html">Parent Dashboard</a>
        <span> / </span>
        <a href="Courseenrolment.html">Course Enrolment</a>
      </div>

  <main>
<h1>Course enrolment</h1>

<form>
<div class="enrolment">

  <div class="row1">
<div class="item1">
  <h2>Choose your kid:*</h2>
  <select id="nkids" name="Choosing the kid name">
      
     </select>
 
    </div>
 
<div class="item2">

  <h2>Choose the course:*</h2>
  <p>(Note that you can check more than one.)</p>
  <h3><br>Filter:</h3>
  <select id="Prerequisites" name="Prerequisites">
      
     </select>
     
     <select id="Tutor" name="Tutor">
      
  </select>

<div class="list1">
  <ul id="list">
    <li><input type="checkbox" name="Course type" value="c++ course"><img src="images/robotics.png" alt="robotics logo" width="30" height="30">Introduction To Robotics</li> 
    <li><input type="checkbox" name="Course type" value="java course"><img src="images/Java.PNG" alt="java logo" width="30" height="30">Introduction To Java</li> 
    <li><input type="checkbox" name="Course type" value="php course"><img src="images/Scratch.png" alt="Scratch logo" width="30" height="30">Introduction To Scratch</li> 
    <li><input type="checkbox" name="Course type" value="python course"><img src="images/Python.png" alt="python logo" width="30" height="30">Introduction To Python</li>
    <li><input type="checkbox" name="Course type" value="Java Script course"><img src="images/JavaScript.png" alt="Java Script logo" width="30" height="30">Introduction To JavaScript</li>
    <li><input type="checkbox" name="Course type" value="c sharp course"><img src="images/CSS.png" alt="CSS logo" width="30" height="30">Styling with CSS</li>
    <li><input type="checkbox" name="Course type" value="Swift course"><img src="images/Swift.png" alt="Swift logo" width="30" height="30">Introduction To Swift</li>
    <li><input type="checkbox" name="Course type" value="SQL course"><img src="images/SQL.png" alt="SQL logo" width="30" height="30">SQL Basics</li>
    <li><input type="checkbox" name="Course type" value="HTML course"><img src="images/HTML.png" alt="HTML logo" width="30" height="30">HTML Basics</li>
   </ul>
  </div>
</div>
  </div>


<div class="enrButtn"> 
    <button type="submit">Enrol</button>
</div>
</div>
</form>
</main>

<footer>
  <section id="footer">
    <div class="main-footer">
      <div class="Us">
        <h2>Why Us?</h2>
        <ul>
          <li>Safe enviroment for kids</li>
          <li>Interactive lerning courses</li>
          <li>Well qulified instructers</li>
          <li>Flexible scheduels</li>
        </ul>
      </div>
      <div class="contact">
        <h2>Contact Us</h2>
        <ul>
          <li>
            <a href="mailto:KidsScript@gmail.com"
              ><img
                src="images/Email.png"
                alt="instgram icon"
                width="20"
                height="20"
              >KidsScript@gmail.com</a
            >
          </li>
          <li>
            <img
              src="images/phone.png"
              alt="instgram icon"
              width="20"
              height="20"
            >+966555518694
          </li>
        </ul>
      </div>
      <div class="Social">
        <h2>Social Media</h2>
        <ul>
          <li>
            <a href="https://instgram.com"
              ><img
                src="images/instgram.png"
                alt="instgram icon"
                width="20"
                height="20"
              >
              KidsScript
            </a>
          </li>
          <li>
            <a href="https://twitter.com"
              ><img
                src="images/X.png"
                alt="X icon"
                width="20"
                height="20"
              >
              KidsScript
            </a>
          </li>
          <li>
            <a href="https://www.facebook.com"
              ><img
                src="images/Facebook.png"
                alt="instgram icon"
                width="20"
                height="20">
              KidsScript
            </a>
          </li>
        </ul>
      </div>
    </div>
    <p>
      Copy right Â©2023 made with
      <img src="images/heart.png" alt="love" width="15" height="15"> in
      KSU
    </p>
  </section>
</footer>
<script>
//1
function populateKidsDropdown() {
  var kidsDropdown = document.getElementById("nkids");
  var kids = JSON.parse(localStorage.getItem("kidsname"));

  kids.forEach(function (kid) {
    var option = document.createElement("option");
    option.value = kid.name;
    option.textContent = kid.name;
    kidsDropdown.appendChild(option);
  });

}
populateKidsDropdown();
  
var courses = [
  { cname: "Introduction To Robotics", tname: "T.Joe Adams" },
  { cname: "Introduction To Java", tname: "T.Rachel Adam", pre: "Introduction To HTML" },
  { cname: "Introduction To Scratch", tname: "T.Daniel loe" },
  { cname: "Introduction To Python", tname: "T.Kevin Lee" },
  { cname: "Introduction To JavaScript", tname: "T. Emily Anderson", pre: "Introduction To CSS" },
  { cname: "Introduction To CSS", tname: "T. Michael Turner", pre: "Introduction To HTML" },
  { cname: "Introduction To Swift", tname: "T.Lara Kevin", pre: "Introduction To Scratch" },
  { cname: "Introduction To SQL", tname: "T.John Foster", pre: "Introduction To Java" },
  { cname: "Introduction To HTML", tname: "T. Lane Clark", pre: "Introduction To Scratch" }
];

filterOptions("nkids", getKidsNames());
filterOptions("Prerequisites", getPrerequisites(courses));
filterOptions("Tutor", getTutors(courses));

document.getElementById("Tutor").addEventListener("change", filterCourses);
document.getElementById("Prerequisites").addEventListener("change", filterCourses);
document.querySelector("form").addEventListener("submit", handleFormSubmit);

filterCourses(); // Initial course filtering based on selected tutor or prerequisite

function filterOptions(selectId, options) {
  var select = document.getElementById(selectId);
  select.innerHTML = ""; // Clear existing options

  options.forEach(function (option) {
    var optionElement = document.createElement("option");
    optionElement.value = option;
    optionElement.textContent = option;
    select.appendChild(optionElement);
  });
}

function getKidsNames() {
  var kids = JSON.parse(localStorage.getItem("kidsname"));
  return kids.map(kid => kid.name);
}

function getPrerequisites(courses) {
  var prerequisites = courses.map(course => course.pre);
  return Array.from(new Set(prerequisites.filter(Boolean)));
}

function getTutors(courses) {
  var tutors = courses.map(course => course.tname);
  return Array.from(new Set(tutors));
}

function filterCourses() {
  var selectedTutor = document.getElementById("Tutor").value;
  var selectedPrerequisite = document.getElementById("Prerequisites").value;

  var filteredCourses = courses.filter(function (course) {
    return (selectedTutor === "" || course.tname === selectedTutor) &&
      (selectedPrerequisite === "" || course.pre === selectedPrerequisite);
  });

  updateCourseCheckboxes(filteredCourses);
}

function updateCourseCheckboxes(filteredCourses) {
  var checkboxes = document.querySelectorAll(".list1");
  checkboxes.forEach(function (checkbox) {
    var courseName = checkbox.getAttribute("data-course");
    var isVisible = filteredCourses.some(course => course.cname === courseName);
    checkbox.style.display = isVisible ? "list-item" : "none";
  });
}

function handleFormSubmit(event) {
  event.preventDefault();

  var selectedChild = document.getElementById("nkids").value;
  if (!selectedChild) {
    alert("Please select a child.");
    return;
  }

  var selectedCourses = Array.from(document.querySelectorAll(".list1 input:checked")).map(function (checkbox) {
    return checkbox.getAttribute("data-course");
  });

  if (selectedCourses.length === 0) {
    alert("Please select at least one course.");
    return;
  }

  var infoContainer = document.createElement("div");
  infoContainer.className = "enrollment";
  infoContainer.innerHTML = "<h1>Course enrollment</h1>" +
    "<h2>Choose your kid:* " + selectedChild + "</h2>" +
    "<h2>Choose the course:*</h2> <ul>" + selectedCourses.map(course => "<li>" + course + "</li>").join("") + "</ul>";

  var previousInfo = document.querySelector(".enrollment");
  if (previousInfo) {
    previousInfo.remove();
  }

  document.querySelector("main").appendChild(infoContainer);

  document.querySelector("form").reset();
}



  //4


  //5

  //6

  //7






</script>
</body>
</html>